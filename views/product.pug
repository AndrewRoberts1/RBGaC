doctype html
html(lang='en')
  head
    // Required meta tags
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    // Bootstrap CSS
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css', rel='stylesheet', integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC', crossorigin='anonymous')

    link(rel='stylesheet', href='/stylesheets/style.css')
    // Page title
    title Product Page
  body
    // Insert navbar from partial folder
    include ../views/partials/header
    //Main content [START]
    .container-fluid.mainCont.px-0.py-0
      .headerPadd
      .headerImage.productHead
        h2.headerText.text-center
      .row.mainRow
        // Main Section - form
        .col-md-4.mt-3
          .row.justify-content-center
            br
            img.img-fluid(src='/images/product_images/'+product_id+'.jpg')
        .col-md-1
        .col-md-7.rbContainer
          .row.justify-content-center
            .col-md-10
              h2.text-center.mt-3.mb-4  #{product_name}
              p
                strong Brand:
              p #{brand}
              p
                strong Activity:
              p #{activity}
              p
                strong Colour:
              p #{colour}
              p
                strong Product Type:
              p #{prod_type}
              p
                strong Description:
              p
                |#{desc}
          .row.justify-content-center
            .col-md-5
              form(class="p-3" method="POST" action="/basketadd" id="addItemBasket")
                select.form-select.mt-4.mx-auto(id="sizeOptions" name="sizeOptions")
                  option(value='', selected='') Size 
                  each row in size_options
                    option(value=row.size_id) #{row.size}
                p.text-center.mt-3 In Stock
                hr.mx-auto.mt-1
                p.prodPriceTitle
                  | Price
                  span.prodPriceValue &pound;#{price}
                .text-center.mt-5.mb-5
                  a(href="product/#{product_id}")
                    button.btn.btn-lg.addBasketProdBtn.redBtn.text-center(type="submit") Add to basket 
              // Main content [END]
      // Insert footer from partial folder  
      include ../views/partials/footer
    
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js', integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM', crossorigin='anonymous')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js')

    // JavaScript - to make page interactive
    script.
    //- function addToBasket(product_id) {

    //-   var size_id = document.getElementById('sizeOptions');

    //-   // Create a new fetch request to the /basket/add endpoint
    //-   const request = new Request('/basketadd/#{size_id.value}', {
    //-     method: 'GET',
    //-   });

    //-   // Make the request
    //-   fetch(request).then(response => {
    //-     // Check the response status code
    //-     if (response.status === 200) {
    //-       // The product was added to the basket
    //-       console.log('Product added to basket');
    //-     } else {
    //-       // There was an error adding the product to the basket
    //-       console.log('Error adding product to basket');
    //-     }
    //-   });
    //- }
      

  body
  // jQuery and Bootstrap Bundle
  // js