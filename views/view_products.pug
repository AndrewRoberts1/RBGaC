doctype html
html(lang='en')
  head
    // Required meta tags
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    // Bootstrap CSS
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css', rel='stylesheet', integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC', crossorigin='anonymous')

    link(rel='stylesheet', href='/stylesheets/style.css')
    // Page title
    title View Products
  body
    // Insert navbar from partial folder
    include ../views/partials/header
    // Main Content [START]
    .container-fluid.mainCont.px-0.py-0
        .headerPadd
        // Header Image Section [START]
        .headerImage.genericHead.bottomAlign
            .h2.headerText.text-center View Products

            // Header Image Section [END]
        .row.mainRow.justify-content-center
            .col-md-10.mt-3.mb-3.rbContainer
                form(id="addForm" method="get" action="/add_product")
                    button.btn.btn-primary(type="submit") Add new
                table#prodTable.table
                    thead
                        th ID
                        th Product Name
                        th Size Opitons
                        th Edit
                        th Delete
                    tbody#prodTableBody
                        each row in product_list
                            tr
                                td #{row.product_id}
                                td #{row.product_name}
                                td 
                                td 
                                    form(id="editForm"+row.product_id method="POST" action="/edit_product")
                                        input#addProdMode.form-control(type='text' name="product_id" value=row.product_id  style="display:none;")
                                        button.btn.btn-primary(type="submit") Edit
                                td 
                                    form(id="editForm"+row.product_id method="POST" action="/remove_product")
                                        input#addProdMode.form-control(type='text' name="product_id" value=row.product_id  style="display:none;")
                                        button.btn.btn-danger(type="submit") Remove


        
        // Main Content [END]

    // Insert footer from partial folder  
    include ../views/partials/footer
      
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js', integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM', crossorigin='anonymous')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js')

    // JavaScript - to make page interactive
    script.
        const addSizeBtn = document.querySelector('#addSizeOption');
        
        addSizeBtn.onclick = function () {
            var sizeRow= document.getElementById('sizeOptionRows');
            var tempHtml = "";
            tempHtml += '<div class="row mt-3 justify-content-center">';
            tempHtml += '                                                <div class="col-md-8 mt-2">';
            tempHtml += '                                                    <label class="form-label">Size Option</label>';
            tempHtml += '                                                    <input class="form-control addSizeClass" type="text" id="addSize">';
            tempHtml += '                                                </div>';
            tempHtml += '                                                <div class="col-md-3 mt-2 d-flex align-items-end">';
            tempHtml += '                                                    <button class="btn btn-danger" onclick="removeSize(this)">Remove</button>';
            tempHtml += '                                                </div>';
            tempHtml += '                                            </div>';
            
            sizeRow.innerHTML += tempHtml;

            var sizeArr = [];
            document.querySelectorAll('.addSizeClass').forEach(function(el) {
                sizeArr.push(el.value)
            })

        }
      

  body
  // jQuery and Bootstrap Bundle
  // js